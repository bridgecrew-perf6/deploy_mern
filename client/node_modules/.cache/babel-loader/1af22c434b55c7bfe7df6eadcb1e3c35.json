{"ast":null,"code":"import _defineProperty from\"C:/Users/Jose/Desktop/deployment/petShelter/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Jose/Desktop/deployment/petShelter/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Jose/Desktop/deployment/petShelter/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from'axios';import{useParams}from\"react-router\";import{useHistory}from\"react-router-dom\";import{BrowserRouter,Switch,Route,Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var EditPetForm=function EditPetForm(props){var _formErrors$name,_formErrors$type,_formErrors$name2;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),petInfo=_useState14[0],setPetInfo=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),formErrors=_useState16[0],setFormErrors=_useState16[1];var _useParams=useParams(),_id=_useParams._id;var history=useHistory();useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(_id)).then(function(res){console.log(res);setPetInfo(res.data.results);}).catch(function(err){console.log(err);});},[]);var changeHandler=function changeHandler(e){setPetInfo(_objectSpread(_objectSpread({},petInfo),{},_defineProperty({},e.target.name,e.target.value)));};var updatePet=function updatePet(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pets/\".concat(_id),petInfo).then(function(res){console.log(res);if(res.data.error){setFormErrors(res.data.error.errors);}else{history.push('/');setName(\"\");setType(\"\");setDescription(\"\");setSkill1(\"\");setSkill2(\"\");setSkill3(\"\");}}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"edit \",petInfo.name]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-primary\",children:\"Home Page\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePet,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"\",className:\"form-control\",onChange:changeHandler,value:petInfo.name})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:(_formErrors$name=formErrors.name)===null||_formErrors$name===void 0?void 0:_formErrors$name.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\",id:\"\",className:\"form-control\",onChange:changeHandler,value:petInfo.type})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:(_formErrors$type=formErrors.type)===null||_formErrors$type===void 0?void 0:_formErrors$type.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",id:\"\",className:\"form-control\",onChange:changeHandler,value:petInfo.description})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:(_formErrors$name2=formErrors.name)===null||_formErrors$name2===void 0?void 0:_formErrors$name2.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Skill 1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill1\",id:\"\",className:\"form-control\",onChange:changeHandler,value:petInfo.skill1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Skill 2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill2\",id:\"\",className:\"form-control\",onChange:changeHandler,value:petInfo.skill2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Skill 3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill3\",id:\"\",className:\"form-control\",onChange:changeHandler,value:petInfo.skill3})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Edit Pet\"})]})]});};export default EditPetForm;","map":{"version":3,"sources":["C:/Users/Jose/Desktop/deployment/petShelter/client/src/components/EditPetForm.jsx"],"names":["React","useState","useEffect","axios","useParams","useHistory","BrowserRouter","Switch","Route","Link","EditPetForm","props","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","petInfo","setPetInfo","formErrors","setFormErrors","_id","history","get","then","res","console","log","data","results","catch","err","changeHandler","e","target","value","updatePet","preventDefault","put","error","errors","push","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { useParams } from \"react-router\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    BrowserRouter,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\n\r\n\r\nconst EditPetForm = (props) => {\r\n    let [name, setName] = useState(\"\");\r\n    let [type, setType] = useState(\"\");\r\n    let [description, setDescription] = useState(\"\");\r\n    let [skill1, setSkill1] = useState(\"\");\r\n    let [skill2, setSkill2] = useState(\"\");\r\n    let [skill3, setSkill3] = useState(\"\");\r\n\r\n    const [petInfo, setPetInfo] = useState({});\r\n\r\n    let [formErrors, setFormErrors] = useState({});\r\n\r\n    const { _id } = useParams();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/pets/${_id}`)\r\n            .then(res => {\r\n                console.log(res);\r\n                setPetInfo(res.data.results)\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }, [])\r\n\r\n\r\n    const changeHandler = (e) => {\r\n        setPetInfo({\r\n            ...petInfo,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n    const updatePet = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.put(`http://localhost:8000/api/pets/${_id}`, petInfo)\r\n            .then(res => {\r\n                console.log(res)\r\n                if (res.data.error) {\r\n                    setFormErrors(res.data.error.errors);\r\n                } else {\r\n                    history.push('/')\r\n\r\n                    setName(\"\");\r\n                    setType(\"\");\r\n                    setDescription(\"\");\r\n                    setSkill1(\"\");\r\n                    setSkill2(\"\");\r\n                    setSkill3(\"\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <p>edit {petInfo.name}</p>\r\n            <Link to='/' className='btn btn-primary'>Home Page</Link>\r\n            <form onSubmit={updatePet}>\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"\">Name</label>\r\n                    <input type=\"text\" name=\"name\" id=\"\" className='form-control' onChange={changeHandler} value={petInfo.name} />\r\n                </div>\r\n                <p className='text-danger'>{formErrors.name?.message}</p>\r\n\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"\">Type</label>\r\n                    <input type=\"text\" name=\"type\" id=\"\" className='form-control' onChange={changeHandler} value={petInfo.type} />\r\n                </div>\r\n                <p className='text-danger'>{formErrors.type?.message}</p>\r\n\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"\">Description</label>\r\n                    <input type=\"text\" name=\"description\" id=\"\" className='form-control' onChange={changeHandler} value={petInfo.description} />\r\n                </div>\r\n                <p className='text-danger'>{formErrors.name?.message}</p>\r\n\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"\">Skill 1</label>\r\n                    <input type=\"text\" name=\"skill1\" id=\"\" className='form-control' onChange={changeHandler} value={petInfo.skill1} />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"\">Skill 2</label>\r\n                    <input type=\"text\" name=\"skill2\" id=\"\" className='form-control' onChange={changeHandler} value={petInfo.skill2} />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"\">Skill 3</label>\r\n                    <input type=\"text\" name=\"skill3\" id=\"\" className='form-control' onChange={changeHandler} value={petInfo.skill3} />\r\n                </div>\r\n                <input type=\"submit\" value=\"Edit Pet\" />\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default EditPetForm;"]},"metadata":{},"sourceType":"module"}